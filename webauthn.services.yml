services:
  webauthn.routing.route_provider:
    class: Drupal\webauthn\Routing\RouteProvider
    arguments: ['@config.factory']

  webauthn.event_subscriber.user_route_alter:
    class: Drupal\webauthn\EventSubscriber\UserRouteAlterSubscriber
    arguments: ['@config.factory']
    tags:
      - { name: event_subscriber }

  webauthn.relying_party_factory:
    class: Drupal\webauthn\RelyingPartyFactory
    arguments: ['@config.factory', '@request_stack']

  webauthn.relying_party:
    class: Webauthn\PublicKeyCredentialRpEntity
    factory: ['@webauthn.relying_party_factory', 'get']
